---
description: 일일 회고 39회차
cover: ../.gitbook/assets/Frame 85 (1).png
coverY: 0
---

# ✏️ 2024.10.31

{% hint style="success" %}
_**Keep**_

1. 일일 회고를 꾸준히 하면서 성장하기 위해 노력하는 것
{% endhint %}

{% hint style="danger" %}
_**Problem**_

1. 명확한 원인을 파악하지 않고 문제를 해결하는 것
2. 여러 개의 방법 중에 최선의 방법이 아닌 빠른 방법을 선택하는 것
{% endhint %}

{% hint style="warning" %}
_**Try**_

1. 일일 회고를 통해 원인을 명확하게 파악하고 문제를 해결했는지 검토
2. 일일 회고를 통해 최선의 방법을 선택했는지 검토
{% endhint %}

## 경험 및 배움

### 회사 업무

#### 변화 탐지 영역 조회 버그 해결

쿼리를 분석해보니 결과에 LINESTRING이 존재하여 GEOMETRYCOLLECTION으로 반환되면서 변환 로직이 실패하여 에러가 발생하는 것으로 확인됐다. 이를 해결하기 위해 결과에서 POLYGON과 MULTIPOLYGON만 필터링 한 후 하나의 MULTIPOLYGON으로 취합해서 반환하도록 쿼리를 수정한 후에 테스트를 수행해보니 정상 동작하는 것을 볼 수 있었다. 그 후 테스트 서버에 배포하여 UI에서 동작하는 것을 확인해보니 에러는 발생하지 않으나 부자연스럽게 동작하는 것을 발견했다. 줌 레벨마다 조회되는 POLYGON이 달라지는데 보여야 하는 POLYGON이 사라지는 현상이 발생한 것이다. 어떤 쿼리로 인해서 폴리곤이 사라지는지 분석해 볼 예정이다.



#### 영상 조회 버그 해결

브라우저로 영상을 조회할 때 해당 요청이 가끔씩 Pending이 발생하여 UI가 버벅거리는 문제가 발생했다. 영상을 조회하는 서버의 성능이 부족한 것으로 판단되어 서버의 개수를 증가시켜서 테스트를 해봤다. 확실히 영상이 조회되는 속도가 빨라졌으나 Pending이 발생하는 문제는 여전히 존재했다. Pending이 발생하는 지점이 정확하게 어디이며 어떻게 해결해야 하는지 분석이 필요하다.



### 사이드 프로젝트

#### 회원정보 수정 API에 이메일 추가

요구사항에 대해 프론트와 논의하다 보니 어떠한 공지를 보낼 때 특정 사용자의 이메일이나 전화번호 정보가 필요하다고 느껴졌다. 이를 위해 회원정보에 이메일을 추가가 필요하다고 결론이 내려져서 회원정보에 이메일을 추가하고 회원정보 수정 API에 이메일을 수정할 수 있도록 작업을 진행했다. 해당 작업은 어렵지 않은 작업이였으나 DB 테이블이 변경되어 직접 서버에 반영해야 하는 불편함이 존재했다. 테이블 변경을 편리하게 하기 위해 데이터베이스 형상관리 도구인 Flyway를 적용할 필요가 있다. 추가로 PR을 확인해보니 예외 메시지에 오타가 존재하여 오타 수정이 필요하다.

{% embed url="https://github.com/LeeSM0518/devooks/pull/11" %}



## 해야 할 일

* [ ] 회사 업무
  * [ ] 영상 조회 버그 해결
  * [ ] 변화 탐지 영역 조회 버그 해결
* [ ] 사이드 프로젝트
  * [ ] 테스트 CI 성능 개선
  * [ ] INVALID\_EMAIL 예외 메시지 오타 수정
  * [ ] Flyway 적용
